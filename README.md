# Rework of Labor Status Forms .NET into a Flask application

## Developing on Labor Status Forms
1. Pull down the repo: git clone <URL>
2. Run ```source setup.sh```
3. Run ```python add_dummy_data.py``` to load in fake data
4. Run the app with ```python app.py```
5. A Tracy simulator is included.
   You'll need to add the dummy data for it to a SQL database (MySQL is fine).
   Run the SQL commands from **app/models/Tracy/TRACY_Simulator.sql**

## Updating pip dependencies (imports)
1. Run ```pip freeze > requirements.txt``` to export all imports to a file. This file is used by **setup.sh** when the next user runs ```source setup.sh```

## Updating models
Use Peewee Migrator to update models: https://pypi.org/project/peewee-migrations/

1. Install: ```pip install peewee-migrations``` (included in setup.sh, so you shouldn't need this)
2. ```pem init```
3. Add models to watch: e.g., ```pem add app.models.user.User```
4. Watch the model for changes: ```pem watch```
5. When done changing models, run the migrator to modify the db: ```pem migrate```

NOTE: You don't need to watch the files before you begin making changes.
The watch will compare the db to your model file and make any changes that are inconsistent.

Additional helpful commands:
List active migrations: ```pem list```
Show SQL generated by changes to the model: ```pem show```

##Troubleshootng
If encountering "Name Error: name 'ModuleNotFoundError' is not defined" navigate to lsf-flask/venv/lib/python3.5/site-packages/peeweemigrations/cli.py and on line 59 change ModuleNotFoundError to Import Error 

