{% extends "base.html" %}

{% block scripts %}
{{super()}}
<script type=text/javascript src="{{url_for('static', filename='js/positionDescription.js')}}?u={{lastStaticUpdate}}"></script>
{% endblock %}

{% block styles %}
{{super()}}
<link rel="stylesheet" href="/static/css/positionDescription.css?u={{lastStaticUpdate}}" type="text/css"/>
{% endblock %}

{% block app_content %}

<head>
  <script src="/static/js/ckeditor/ckeditor.js"></script>
</head>

<div align="center" style="margin-bottom: 50px;">
  <h1 id ="title">Position Description
	  <span class="glyphicon glyphicon-bookmark"
        data-toggle="tooltip"
        title="The position description is used to update current and future labor position descriptions."
        data-placement = "right"
        id="titleGlyphicon"
        tabindex="0">
    </span>
  </h1>
</div>

  <div class="container">
    <div>
        <p class="required-mark">* Marked fields are required</p>
    </div>
    <!-- everythin on the left -->
    <div class="floatleft">

      <div class="form-group" id="departmentClass">
        <!--selectpicker for department-->
        <label for="selectedDepartment" aria-describedby="departmentInfo"><span class="tooltip-right" data-tooltip="Required">Department <span class="required-mark">*</span> </span>
        </label>
        <select class="selectpicker"
                name='department'
                id='selectedDepartment'
                data-live-search='true'
                title="Department"
                data-width="100%"
                onchange="getDepartmentPositions(this);">
          <option value = "" disabled selected>Select a Department</option>
          {% for department in departments %}
            <option value-account="{{department.formID.department.ACCOUNT}}" value="{{department.formID.department.ORG}}" data-content=
            "<span>{{department.formID.department.DEPT_NAME}}</span><small class='text-muted'> ({{department.formID.department.ORG}}-{{department.formID.department.ACCOUNT}}) </small>">{{department.formID.department.DEPT_NAME}}</option>
          {% endfor %}
        </select>
      </div>

      <div class="form-group" style="height:80%">
        <label for="positionDescription">Previous Position Description</label>
        <div id="pastPositionDescription">
          <!-- <textarea name="notes" rows="13" cols="73" id="pastPositionDescription" disabled></textarea> -->
        </div>
      </div>

    </div>
    <!-- Everything on the right  -->
    <div class= "floatright" >

      <div class= "form-group " id="Position">
          <!--selectpicker for position-->
          <label for="position"><span class="tooltip-right" data-tooltip="Required">Position (WLS) <span class="required-mark">*</span></span></label>
            <select class="selectpicker"
                    name='position'
                    id='position'
                    data-live-search='true'
                    data-width="100%"
                    title="Position"
                    onchange=updateVersion(this.value)
                    disabled>
            </select>
        </div>

        <div class="form-group">
          <!-- selectpicker for new term  -->
            <label for="preVersion" aria-describedby="newTermInfo"><span class="tooltip-right" data-tooltip="Required">Previous Version <span class="required-mark">*</span></span></label>
            <select class="selectpicker"
                    name='term'
                    id='preVersion'
                    data-live-search="true"
                    data-toggle="tooltip"
                    title="Term"
                    data-width="100%"
                    onchange=fillPositionDescription(this.value)
                    disabled>
          </select>
        </div>

        <!-- <div class="form-group">
        <label for="Position Description"><span class="tooltip-right" data-tooltip="Required">Position Description<span class="required-mark">*</span></span></label>
        <textarea name="editor1" id="editor1"></textarea>
                    <script>
                            CKEDITOR.replace('editor1',
                                            {
                                              removePlugins: "strinsert"
                                            });
                    </script>
        </div> -->

        <div class="form-group">
          <!-- <button type="button" class="btn btn-danger">Discard Changes</button> -->
          <button type="button" class="btn btn-success" onclick="saveChanges()">Edit Version</button>
        </div>

    </div>
    <!-- Modal that will be rendered on the click of the submit button -->
    {% include "snips/positionDescriptionModal.html" %}
  </div>

{% endblock %}
