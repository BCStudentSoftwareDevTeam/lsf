{% extends "base.html" %}

{% block scripts %}
{{super()}}
<script type=text/javascript src="{{url_for('static', filename='js/termPositionDescription.js')}}?u={{lastStaticUpdate}}"></script>
{% endblock %}

{% block styles %}
{{super()}}
<link rel="stylesheet" href="/static/css/termPositionDescription.css?u={{lastStaticUpdate}}" type="text/css"/>
{% endblock %}

{% block app_content %}

<head>
  <script src="/static/js/ckeditor/ckeditor.js"></script>
</head>

<div align="center" style="margin-bottom: 50px;">
  <h1 id ="title">Position Description
	  <span class="glyphicon glyphicon-bookmark"
        data-toggle="tooltip"
        title="The position description is used to update current and future labor position descriptions."
        data-placement = "right"
        id="titleGlyphicon"
        tabindex="0">
    </span>
  </h1>
</div>

<form id="termPositionDescription">
  <div class="container">
    <div>
        <p class="required-mark">* Marked fields are required</p>
    </div>
    <!-- everythin on the left -->
    <div class="floatleft">

      <div class="form-group" id="departmentClass">
        <!--selectpicker for department-->
        <label for="selectedDepartment" aria-describedby="departmentInfo"><span class="tooltip-right" data-tooltip="Required">Department <span class="required-mark">*</span> </span>
        </label>
        <select class="selectpicker"
                name='department'
                id='selectedDepartment'
                data-live-search='true'
                title="Department"
                data-width="100%"
                onchange="getDepartmentPositions(this);">
          <option value = "" disabled selected>Select a Department</option>
          {% for department in departments %}
            <option value-account="{{department.formID.department.ACCOUNT}}" value="{{department.formID.department.ORG}}" data-content=
            "<span>{{department.formID.department.DEPT_NAME}}</span><small class='text-muted'> ({{department.formID.department.ORG}}-{{department.formID.department.ACCOUNT}}) </small>">{{department.formID.department.DEPT_NAME}}</option>
          {% endfor %}
        </select>
      </div>

      <div>
        <p class="required-mark">
           Select a position description from a previous term
        </p>
      </div>

      <div class="form-group">
        <!-- selectpicker for old term  -->
          <label for="selectedTerm" aria-describedby="oldTermInfo">Old Term</label>
          <select class="selectpicker"
                  name='term'
                  id='oldTerm'
                  data-live-search="true"
                  data-toggle="tooltip"
                  title="Term"
                  data-width="100%">
              <option value = "" disabled selected>Select a Term</option>
          {% for term in closedTerms %}
              <option value = "{{term.termCode}}" data-termSummer = "{{term.isSummer|lower}}" data-termBreak = "{{term.isBreak|lower}}">{{term.termName}}</option>
          {% endfor %}
        </select>
      </div>

      <div class="form-group">
        <label for="Notes">Previous Position Description</label>
        <div>
          <textarea name="notes" rows="13" cols="73" id="reason" disabled></textarea>
        </div>
      </div>

    </div>
    <!-- Everything on the right  -->
    <div class= "floatright" >

      <div class= "form-group " id="Position">
          <!--selectpicker for position-->
          <label for="position"><span class="tooltip-right" data-tooltip="Required">Position (WLS) <span class="required-mark">*</span></span></label>
            <select class="selectpicker"
                    name='position'
                    id='position'
                    data-live-search='true'
                    data-width="100%"
                    title="Position"
                    disabled>
                    <option value = "" disabled selected>Select a Position</option>
            </select>
        </div>

        <div>
          <p class="required-mark">
             Select a term to update
          </p>
        </div>

        <div class="form-group">
          <!-- selectpicker for new term  -->
            <label for="selectedTerm" aria-describedby="newTermInfo"><span class="tooltip-right" data-tooltip="Required">Term <span class="required-mark">*</span></span></label>
            <select class="selectpicker"
                    name='term'
                    id='newTerm'
                    data-live-search="true"
                    data-toggle="tooltip"
                    title="Term"
                    data-width="100%">
                <option value = "" disabled selected>Select a Term</option>
            {% for term in openTerms %}
                <option value = "{{term.termCode}}" data-termSummer = "{{term.isSummer|lower}}" data-termBreak = "{{term.isBreak|lower}}">{{term.termName}}</option>
            {% endfor %}
          </select>
        </div>

        <div class="form-group">
        <label for="Position Description"><span class="tooltip-right" data-tooltip="Required">Position Description<span class="required-mark">*</span></span></label>
        <textarea name="CKeditor" id="CKeditor"></textarea>
                    <script>
                            CKEDITOR.replace('CKeditor',
                                            {
                                              removePlugins: "strinsert"
                                            });
                    </script>
        </div>

    </div>
  </div>
</form>

{% endblock %}
