{% extends "base.html" %}

{% block scripts %}
{{super()}}

<script type="text/javascript" src="https://cdn.datatables.net/v/bs/jq-3.3.1/dt-1.10.18/r-2.2.2/datatables.min.js"></script>
<script type=text/javascript src="{{url_for('static', filename='js/index.js') }}"></script>
{% endblock %}

{% block styles %}
{{super()}}
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/bs/jq-3.3.1/dt-1.10.18/r-2.2.2/datatables.min.css"/>
{% endblock %}

{% block app_content %}

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<div align= "right">

  <script type="text/javascript" src="/static/js/index.js"></script>
  <link rel="stylesheet" type="text/css" href="/static/css/index.css" />

    <div align="center">
      <h1>Supervisor Portal</h1>
      <h3>All Labor Students</h3>
    </div>

    <div align= "right"><button class="btn" data-toggle="modal" data-target="#downloadModal">Download</button></div>

<!-- start of modal -->
     <div class="modal fade" id="downloadModal" role="dialog">
         <div class="modal-dialog">

           <div class="modal-content" align="center">
             <div class="modal-header" align="center">
               <button type="button" class="close" data-dismiss="modal">&times;</button>
               <h4 class="modal-title">Please select what you would like to download.</h4>
             </div>

             <div  class="modal-body">
                <input type="checkbox" name="select-all" id="select-all" > <b>Select all</b>
               {% for form in active_supervisees %}
               <label class="container" id="currentStu">
                  <input type="checkbox" name="student" checked="checked" value="student">
                  <span class="checkmark"></span>
                  {{form.studentSupervisee.FIRST_NAME}} {{form.studentSupervisee.LAST_NAME}}
                </label>
                {% endfor %}
             {% for form in inactive_supervisees %}
               <label class="container" id="pastStu" style="display:none">
                  <input type="checkbox" name=student value={{form.studentSupervisee.ID}}>
                  <span class="checkmark"></span>
                  {{form.studentSupervisee.FIRST_NAME}} {{form.studentSupervisee.LAST_NAME}}
                </label>
                {% endfor %}
             </div>
             <div class="modal-footer" align="center">
               <a href="static/LaborStudent.csv" download="Form.csv">
                 <button type="submit" value="Submit" class="btn btn-success" id="modal">Download</button>
               </a>
             </div>
           </div>

         </div>
       </div>
<!-- end of modal-->

    <div align= "center" >
    <table id="studentList" class="table table-striped studentTable" >
      <thead>
        <tr>
          <th> </th>
        </tr>
      </thead>

        {% for form in active_supervisees %}
        <tr id="currentStu">
          <td><a href="/laborHistory/{{form.studentSupervisee.ID}}">
            {{form.studentSupervisee.FIRST_NAME}} {{form.studentSupervisee.LAST_NAME}} ({{form.studentSupervisee.ID}})
            <P></P>
            {{form.POSN_TITLE}}
          </a></td>
        </tr>
        {% endfor %}

        {% for form in inactive_supervisees %}
        <tr id="pastStu" style="display:none">
          <td><a href="/laborHistory/{{form.studentSupervisee.ID}}">
            {{form.studentSupervisee.FIRST_NAME}} {{form.studentSupervisee.LAST_NAME}} ({{form.studentSupervisee.ID}})
            <P>No longer a student</P>
          </a></td>
        </tr>
        {% endfor %}
      </table>

    </div>
</div>

{% endblock %}
