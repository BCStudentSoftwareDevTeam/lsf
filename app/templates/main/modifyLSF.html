{% extends "base.html" %}
{% block app_content %}
<head>
  <link rel="stylesheet" type="text/css" href="/static/css/modifyLSF.css" /> <!--jquery and js file called in code below-->
<!-- These are the outside links for the datepicker-->
  <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
  <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
  <!-- These are the outside links for the effective date calendar-->
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <!-- <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script> --> <!--I commented these out and it still worked -Kat 7/26-->
</head>
<div align="center">
  <h2>Modify Labor Status Form</h2>
</div>
 <form action="/index" id="modifyLSF">
   <div class="container">
   <div class="floatleft">
       <div class="form-group">
         <label for="Student">Student:</label> <!--User CANNOT edit-->
         <div>
           <input type="Student" class="form-control" id="Student" value="{{prefillstudent}}" disabled> <!--User CANNOT edit-->
         </div>
       </div>
       <div class="form-group">
         <label for="supervisor" class="field">Supervisor:</label>
         <div class="change">
           <select required type="supervisor"
                            class="selectpicker form-control newValue"
                            id="supervisor"
                            data-live-search="true"
                            >
                <option title="{{prefillsupervisor}}" value="{{superviser_id}}">{{prefillsupervisor}}</option> <!-- not showing up fam-->
                {% for staff in supervisors %}
                  <option value="{{staff.PIDM}}">{{staff.FIRST_NAME}} {{staff.LAST_NAME}}</option>
                {% endfor %}
           </select>
            <input hidden class = "oldValue"  id= "{{prefillsupervisor}}"value="{{oldSupervisor.PIDM}}" > </input> <!-- stores value of original-->
         </div>
       </div>
       <div class="form-group">
         <label for="Department">Department:</label> <!--User CANNOT edit-->
         <div>
           <input type="Department" class="form-control" id="Department" value="{{prefilldepartment}}" disabled> <!--User CANNOT edit-->
         </div>
       </div>
       <div class="form-group">
         <label for="POSN_TITLE" class="field">Position:</label>
         <div  class="change">
           <select required type="POSN_TITLE"
                            class="selectpicker form-control newValue"
                            id="POSN_TITLE"
                            data-live-search="true"
                            >
                <option title="{{prefillposition}}" value="{{prefillposition}}">{{prefillposition}}</option>
           </select>
           <input hidden class = "oldValue"  id= "prefillposition" value="{{prefillposition}}"></input>
         </div>
       </div>
       <!-- This selectpicker will be disabled if term is for a break, since jobtype is always Secondary-->
       <div class="form-group">
         <label for="jobType">Job Type</label>
         <div  class="change">
           <select type="jobType"
                            class="selectpicker form-control newValue"
                            id="jobType"
                            data-live-search="true"
                            value = {{prefilljobtype}}
                            title = {{prefilljobtype}}
                            onchange="fillHoursPerWeek(); positioncheck()">
                <option title="Primary" value="Primary">Primary</option>
                <option title="Secondary" value="Secondary">Secondary</option>
           </select>
           <input hidden class = "oldValue"  id= "{{prefilljobtype}}" value="{{prefilljobtype}}"> </input>
         </div>
       </div>
   </div>
  <div class= "floatright" >
     <div class="form-group">
       <label for="Term">Term:</label> <!--User CANNOT edit-->
       <div >
         <input type="Term" class="form-control" id="Term" value="{{prefillterm}}"disabled> <!--User CANNOT edit-->
         <input hidden id= "termCode" value="{{form.termCode}}"> </input>
       </div>
     </div>
     <div id="contractHoursDiv" class="form-group newValue">
        <!-- Contract hours for breaks -->
           <label for="contractHours">Contract Hours</label>
           <div  class="change">
             <input class="form-control quantity newValue disable"
                     type = "number"
                     name='contractHours'
                     id='contractHours'
                     title= "{{prefillhours}}"
                     placeholder="Contract Hours"
                     min = "1"
                     value = "{{prefillhours}}"
                     oninput="this.value = Math.abs(this.value); this.value = parseInt(this.value)||0">
             </input>
             <input hidden class = "oldValue"  id= "oldContractHours" value="{{prefillhours}}">  </input>
          </div>
        </div>
     <div id="weeklyHoursDiv" class="form-group">
            <label for="weeklyHours">Hours Per Week</label>
            <div  class="change">
              <select  type="weeklyHours"
                       class="selectpicker form-control newValue"
                       id="weeklyHours"
                       name='selectedHoursPerWeek'
                       data-live-search="true"
                       title = {{prefillhours}}
                       value = {{prefillhours}}
                       onchange = "hourscheck()">
              {% if prefilljobtype == "Secondary"%}
                <option title="5" value="5">5</option>
                <option title="10" value="10">10</option>
              {% else %}
                <option title="10" value="10">10</option>
                <option title="12" value="12">12</option>
                <option title="15" value="15">15</option>
                <option title="20" value="20">20</option>
              {% endif %}
              </select>
              <input hidden class = "oldValue"  id= "oldWeeklyHours" value="{{prefillhours}}">  </input>
              {% include "snips/ReviewForm.html" %}
            </div>
          </div>

    <div class="form-group" id= "dateDiv">
    <label for="datetimepicker" class="required-asterisk">Date Needed:</label>
      <div class="input-group date"  class="change">
        <input type="text" class="form-control effectiveDate" id="datetimepicker0" placeholder="MM/DD/YYYY" required > <!--Should prefill with todays date though// effective date does not have old/new value comparison-->
        <span class="input-group-addon">
        <span class="glyphicon glyphicon-calendar"></span>
        </span>
      </div>
     </div>
     <div class="form-group" >
       <label for="supervisorNotes">Notes:</label>
       <div class ="change">
         <textarea name="supervisorNotes" rows="8" cols="73" id="supervisorNotes" class = "newValue">{{prefillnotes}}</textarea>
          <input hidden class = "oldValue"  id= "oldNotes" value="{{prefillnotes}}">  </input>
       </div>
     </div>
  </div>
  </div>

    <div class="container">
      <div class="floatleft">
        <button type="cancel" class="btn btn-danger" onclick="window.history.go(-1); return false;">Cancel</button>
      </div>
      <div class="submitbutton">
        <button id="submit" type="button" class="btn btn-success" onclick="checkForChange()">Submit Changes</button>
        {% include "snips/ModifyLSFNoChange.html" %}
        {% include "snips/ModifyLSFSubmit.html" %}
      </div>
    </div>
    
 </form>

<script language="JavaScript" type="text/javascript" src="/static/js/modifyLSF.js"></script>
{% endblock %}
