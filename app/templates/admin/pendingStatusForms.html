{% extends "base.html" %}

{% block scripts %}
{{super()}}
  <script type="text/javascript" src="https://cdn.datatables.net/v/bs/jq-3.3.1/dt-1.10.18/r-2.2.2/datatables.min.js"></script>
  <script type="text/javascript" src="https://cdn.datatables.net/buttons/1.5.6/js/dataTables.buttons.min.js"></script>
  <script type="text/javascript" src="{{url_for('static', filename='js/pendingStatusForms.js') }}"></script>
{% endblock %}

{% block styles %}
{{super()}}
  <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/bs/jq-3.3.1/dt-1.10.18/r-2.2.2/datatables.min.css"/>
  <link href="https://cdn.datatables.net/buttons/1.5.6/css/buttons.dataTables.min.css"rel="stylesheet" type="text/css" />
  <link rel="stylesheet" href="{{url_for('static', filename ='css/pendingForms.css')}}">
{% endblock %}

{% block title %}
{{super()}}
    Pending Forms
{% endblock %}

{% block app_content %}

<div class="container" id="wrapper" align="center">

  <b><h1 id="header"> Pending Forms </h1></b>
  <div class="col-lg-12" align="center" >
    <table id="pendingForms" class="table table-striped pendingForms dataTable" >
      <!-- Made empty header tags because we need to hide the header -->
      <thead id="headTable" align="center">
        <tr id="tableHeaders" class="tableHeaders" >
          <th> Approve </th>
          <th>Term</th>
          <th>Department</th>
          <th>Supervisor</th>
          <th> </th>
          <th>Students</th>
          <th>Position (WLS)</th>
          <th>Hours</th>
          <th>Created</th>
          <th>Contract Dates</th>
          <th> Edit </th>


        </tr>
      </thead>
      <tbody id="tablebody">
        {% for formHistory in pending_labor_forms %}
        <tr id="tableData" class="tableData" align="center">
          <td> {# APPROVE #}
            <input type='checkbox' id='chk_{{formHistory.formID.laborStatusFormID}}' value= "{{formHistory.formID.laborStatusFormID}}" />
          </td>
          <td> {# TERM #}
            {{formHistory.formID.termCode.termName}}
          </td>
          <td> {# DEPARTMENT #}
            {{formHistory.formID.department.DEPT_NAME}}
          </td>
          <td> {# SUPERVISOR #}
            {{formHistory.formID.supervisor.FIRST_NAME}} {{formHistory.formID.supervisor.LAST_NAME}}
          </td>
          <td>
            |
          </td>
          <td> {# STUDENT #}
            {{formHistory.formID.studentSupervisee.FIRST_NAME}} {{formHistory.formID.studentSupervisee.LAST_NAME}}
          </td>
          <td> {# POSITON AND WLS #}
            {{formHistory.formID.POSN_TITLE}} ({{formHistory.formID.WLS}})
          </td>
          <td> {# HOURS #}
          {% if formHistory.formID.weeklyHours != None%} {{formHistory.formID.weeklyHours}} {% else %}   {{formHistory.formID.contractHours}} {% endif %}
        </td>
        <td> {# CREATED BY #}
          {{formHistory.createdBy.username}}  <br/> {{formHistory.createdDate.strftime('%m/%d/%y')}}
        </td>
        <td> {# CREATED DATE #}
           {{formHistory.formID.startDate.strftime('%m/%d/%y')}} -  {{formHistory.formID.endDate.strftime('%m/%d/%y')}}
        </td>
        <td> {# EDIT #}
          <span id="edit_{{formHistory.formID.laborStatusFormID}}" class="glyphicon glyphicon-pencil"> </span>
        </td>


        </tr>
        {% endfor %}
      </tbody>
      </table>
        <div class="btn-holder">
          <button
            id="approveSelected"
            name="approveBtn"
            type="button"
            class="btn btn-newcolor"
            onclick="insertApprovals();"
            value="Approve Selected">
            Approve Selected
          </button>
        </div>
      </div>





</div>
{% endblock %}
