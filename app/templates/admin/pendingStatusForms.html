{% block app_content %}

    <div class="col-lg-12" align="center" >
    <table id="statusForms" class="table table-striped statusForms dataTable" >
      <!-- Made empty header tags because we need to hide the header -->
      <thead id="headTable" text-align="center" >
        <tr id="tableHeaders" class="tableHeaders"  >
          <th> Approve </th>
          <th>Term</th>
          <th>Department</th>
          <th>Supervisor</th>
          <th> </th>
          <th>Students</th>
          <th> Position (WLS)</th>
          <th>Hours</th>
          <th>Created</th>
          <th>Contract Dates</th>
          <th> Edit </th>
        </tr>
      </thead>

      <tbody id="tablebody">
        {% for statusForm in pending_labor_forms %}
        <tr id="tableData" class="tableData" align="center">
            <td> {# APPROVE #}
              <input type='checkbox' id='chk_{{statusForm.formHistoryID}}' value= "{{statusForm.formHistoryID}}"  name="check[]" autocomplete="off"/>
              <span  id="notes_{{statusForm.formID.laborStatusFormID}}" onclick="getNotes({{statusForm.formID.laborStatusFormID}})"
                     class="glyphicon glyphicon-book btn-lg
                          {% if statusForm.formID.supervisorNotes != None and statusForm.formID.laborDepartmentNotes == None %} text-success
                          {% elif statusForm.formID.laborDepartmentNotes != None and statusForm.formID.supervisorNotes == None  %} text-danger
                          {% elif statusForm.formID.supervisorNotes != None and statusForm.formID.laborDepartmentNotes != None %} text-danger
                          {% else %} text-secondary {% endif %}" data-toggle="modal" data-target="#laborStatusFormNotesModal"> </span>
                          <input id="dummyInput" value="{{statusForm.formID.laborStatusFormID}}" hidden/>

            </td>
            <td> {# TERM #}
              {{statusForm.formID.termCode.termName}}
            </td>
            <td> {# DEPARTMENT #}
              {{statusForm.formID.department.DEPT_NAME}} ({{statusForm.formID.department.ORG}}-{{statusForm.formID.department.ACCOUNT}})
            </td>
            <td> {# SUPERVISOR #}
              {{statusForm.formID.supervisor.FIRST_NAME}} {{statusForm.formID.supervisor.LAST_NAME}}
            </td>
            <td>
              |
            </td>
            <td> {# STUDENT #}
              {{statusForm.formID.studentSupervisee.FIRST_NAME}}  {{statusForm.formID.studentSupervisee.LAST_NAME}}  ({{statusForm.formID.studentSupervisee.ID}})
            </td>
            <td> {# POSITON AND WLS #}
              {{statusForm.formID.POSN_TITLE}} ({{statusForm.formID.WLS}})
            </td>
            <td> {# HOURS #}
            {% if statusForm.formID.weeklyHours != None%} {{statusForm.formID.weeklyHours}} {% else %}   {{statusForm.formID.contractHours}} {% endif %}
          </td>
          <td> {# CREATED BY #}
            {{statusForm.createdBy.username}}  <br/> {{statusForm.createdDate.strftime('%m/%d/%y')}}
          </td>
          <td> {# CREATED DATE #}
             {{statusForm.formID.startDate.strftime('%m/%d/%y')}} -  {{statusForm.formID.endDate.strftime('%m/%d/%y')}}
          </td>
          <td> {# EDIT #}
            <a href="/modifyLSF/{{statusForm.formID.laborStatusFormID}}"> <span id="edit_{{statusForm.formID.laborStatusFormID}}" class="glyphicon glyphicon-pencil" ></span> </a>
            <button
                id="reject_{{statusForm.formHistoryID}}"
                value="{{statusForm.formHistoryID}}"
                type="button"
                class ="btn btn-danger"
                name = "rejectBtn"
                value = "Reject"
                data-toggle="modal"
                data-target="#denyLaborStatusFormsModal"
                onclick="insertDenial(this.value);">
                Deny
            </button>
          </td>
        </tr>
        {% endfor %}
      </tbody>
      </table>
        <div class="btn-holder">
          <button
            id="approvePendingForm"
            name="approveBtn"
            type="button"
            class="btn btn-newcolor"
            onclick="insertApprovals();"
            value="Approve Selected"
            data-target="#approveLabor"
            data-toggle="modal">
            Approve Selected
          </button>
        </div>
        </div>





      <!-- START OF MODAL adding notes -->
      <div class="modal fade" id="laborStatusFormNotesModal" tabindex="-1" role="dialog" aria-labelledby="notesModalLabel">
              <div class="modal-dialog" role="document">
                <div class="modal-content">
                  <div class="modal-header">
                    <b <h6 class="modal-title" id="notesModalLabel">Labor Office Notes </h6> </b>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close" onclick= "clearTextArea()"><span aria-hidden="true">&times;</span></button>

                  </div>
                  <div class="modal-body" >
                    <div id="notesDiv">
                       <label id="supeNotesLabel" class="col-md-4 control-label text-left" for ="supervisor">Supervisor Notes: </label>
                          <textarea id="notesText" rows="2" cols="70" disabled> </textarea>
                      <label class="col-md-4 control-label text-left" for ="laboroffice" align = "left"> Labor Office Notes: </label>
                          <textarea id="laborNotesText" rows="2" cols="70"> </textarea>
                    </div>
                            <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal" id="closeModal" onclick= "clearTextArea()">Close</button>
                        <button type="button" class="btn btn-primary" data-dismiss="modal" id="saveNotes" onclick="notesInsert()">Save Notes</button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

      <!-- END OF MODAL -->

      <!-- Modal -->
      <!-- <div class="modal fade" id="approveLabor" data-dismiss="modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel" align="center"><b>Form(s) ready for Approval</b></h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <!-- putting info into modal using table for better viewing -->
            <!-- <table id="laborClassTable" class="table table-bordered">
              <thead>
                <tr>
                  <th scope="col">Student(s)</th>
                  <th scope="col">Position</th>
                  <th scope="col">Hours</th>
                  <th scope="col">Supervisor</th>
                </tr>
              </thead>
              <tbody>
              </tbody>
            </table>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal" onclick="window.location.reload()">Close</button>
            <button id="approveModalButton" type="button" class="btn btn-primary"  data-dismiss="modal" onclick="finalApproval()" >Approve</button>
          </div>
        </div>
      </div>
    </div> --> 




      <!-- MODAL -->
      <!-- <div class="modal fade" id="SubmitModal" tabindex="-1" role="dialog" aria-labelledby="SubmitModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
            </div>
            <div id="SubmitModalText" class="modal-body">
              The following Labor Status form(s) will be approved:
            </div>
            <div class="modal-footer">
              <button id="submitmodalid"
                      type="submit"
                      class="btn btn-primary"
                      name = "formsubmission"
                      value = "formsubmission"
                      onclick = "userInsert()">Submit</button>
            </div>
          </div>
      </div>
      </div> -->
      <!-- END OF MODAL -->

<!-- </div> -->
{% endblock %}
