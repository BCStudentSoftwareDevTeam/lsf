{% extends "base.html" %}

â€‹{% block scripts %}
{{super()}}
<script type=text/javascript src="{{url_for('static', filename='js/emailTemplates.js')}}"></script>
{% endblock %}

{% block app_content %}

<head>
  <script src="/static/js/ckeditor/ckeditor.js"></script>
  <script src="/static/js/ckeditor/plugin.js"></script>
</head>
<a class="skipContent" href="#recipient" tabindex="1">Click to Skip</a>
<h1 class="col-md-12" style="text-align:center">Email Templates</h1>

<div class="form-group col-md-3">    <!-- This is a blank div so our select pickers would move to the right -->

</div>
<div class="form-group col-md-6" margin-left="500px">
  <div class="form-group col-md-12">
    <label for="Recipient">Recipient</label>
      <select class="selectpicker"
        name='recipient'
        id='recipient'
        data-live-search='false'
        title="Select Recipient"
        data-width="100%"
        onchange="populateFormType()">
        {% for value in recipient %}
           <option value="{{value.audience}}">{{value.audience}}</option>
        {% endfor %}
     </select>
  </div>
  <div class="form-group col-md-12">
    <label for="Form Type">Form Type</label>
      <select class="selectpicker"
        name='formType'
        id='formType'
        data-live-search='false'
        title="Select Form Type"
        data-width="100%"
        onchange="populateAction()"
        disabled
        >
     </select>
  </div>
  <div class="form-group col-md-12">
    <label for="Action">Action</label>
      <select class="selectpicker"
        name='action'
        id='action'
        data-live-search='false'
        title="Select Action"
        data-width="100%"
        onchange="populatePurpose()"
        disabled>
     </select>
  </div>
  <div class="form-group col-md-12">
  <label for="Subject">Subject</label>
    <input class="form-control"
      type="text"
      name='subject'
      id='subject'
      placeholder="Subject of Email"
      data-width="100%"
      onchange=""
      disabled>
   </input>
  </div>

  <div class="form-group col-md-12">
  <label for="Body">Body</label>
  <textarea name="editor1" id="editor1"></textarea>
              <script>
                      CKEDITOR.replace( 'editor1' );
              </script>
  </div>

  <div class="col-md-6">
      <button type="button" class="btn btn-danger" align="right" onclick="discard()">Discard Changes</button>
  </div>

  <div class="col-md-6" style="text-align:right;">
      <button type="button" id="submit" class="btn btn-success" onclick="saveChanges()">Save Changes</button>
  </div>

  <div class="modal fade" id="modal" role="dialog" tabindex="-1">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">Are you sure you want to save?</h4>
        </div>
        <div class="modal-body">
          <p>Saving these changes will override the selected email template.</p>
          <strong><p>You will not be able to revert back to the previous email template once the changes have been saved.</p></strong>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-danger" data-dismiss="modal" style="float:left">Close</button>
          <button type="submit" name="submit" value="submit" class="btn btn-success" id="submitModal" onclick="postEmailTemplate()">Save Changes</button>
        </div>
      </div>
    </div>
  </div>

</div>


{% endblock %}
