{% extends "base.html" %}
{% block scripts %}
{{super()}}
<script type="text/javascript" src="https://cdn.datatables.net/v/bs/jq-3.3.1/dt-1.10.18/r-2.2.2/datatables.min.js"></script>
<script type=text/javascript src="{{url_for('static', filename='js/manageDepartments.js') }}"></script>
{% endblock %}
{% block styles %}
{{super()}}
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/bs/jq-3.3.1/dt-1.10.18/r-2.2.2/datatables.min.css"/>
<link rel="stylesheet" type="text/css" href="/static/css/manageDepartments.css"/>
{% endblock %}
{% block app_content %}
<!-- <form action="/admin/complianceStatus" method="POST"> -->

  <h1> Manage Departments </h1>
  <p class="text-center"><button class="btn btn-success" id="exampleButton1" disabled>In Compliance</button> - Position descriptions are up to date.</p>
  <p class="text-center"><button class="btn btn-danger" id="exampleButton2" disabled>Not in Compliance</button> - Position descriptions are not up to date</p>

  <table class="table table-striped table-bordered" id="departmentsTable">
    <thead>
      <tr>
        <th>Department</th>
        <th>Status</th>
      </tr>
    </thead>
    <tbody>
      {% for department in department %}
      <tr>
        <td scope="row">{{department.DEPT_NAME}}</td>
        <td id="dept_{{department.departmentID}}" scope="row" data-order="{% if department.departmentCompliance == True %}1{% else %}-1{% endif %}">
          <button id="dept_btn_{{department.departmentID}}"
                  name="deptName"
                  class="{% if department.departmentCompliance == True %} btn btn-success {% else %} btn btn-danger {% endif %}"
                  onclick="status({{department.departmentID}})"
                  value="{{department.departmentID}}">{% if department.departmentCompliance == True %}In Compliance{% else %}Not in Compliance{% endif %}</button>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
{% endblock %}
